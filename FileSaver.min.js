/*! @source http://purl.eligrey.com/github/FileSaver.js/blob/master/FileSaver.js */
var saveAs=saveAs||function(e){"use strict";if("undefined"==typeof navigator||!/MSIE [1-9]\./.test(navigator.userAgent)){var t=e.document,n=function(){return e.URL||e.webkitURL||e},o=t.createElementNS("http://www.w3.org/1999/xhtml","a"),r="download"in o,i=function(e){var t=new MouseEvent("click");e.dispatchEvent(t)},a=/Version\/[\d\.]+.*Safari/.test(navigator.userAgent),f=e.webkitRequestFileSystem,c=e.requestFileSystem||f||e.mozRequestFileSystem,s=function(t){(e.setImmediate||e.setTimeout)(function(){throw t},0)},u="application/octet-stream",d=0,l=500,v=function(t){var o=function(){"string"==typeof t?n().revokeObjectURL(t):t.remove()};e.chrome?o():setTimeout(o,l)},p=function(e,t,n){t=[].concat(t);for(var o=t.length;o--;){var r=e["on"+t[o]];if("function"==typeof r)try{r.call(e,n||e)}catch(i){s(i)}}},w=function(e){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e},y=function(t,s,l,y){l||(t=w(t));var m,S,h,R=this,O=t.type,g=!1,b=function(){p(R,"writestart progress write writeend".split(" "))},E=function(){if((S||y)&&"undefined"!=typeof FileReader){var o=new FileReader;return o.onloadend=function(){var e=o.result;if(y)y(e);else if(S){var t="data:attachment/file"+e.slice(e.search(/[,;]/));S.location.href=t}R.readyState=R.DONE,b()},o.readAsDataURL(t),void(R.readyState=R.INIT)}if((g||!m)&&(m=n().createObjectURL(t)),y)y(m);else if(S)S.location.href=m;else{var r=e.open(m,"_blank");void 0==r&&a&&(e.location.href=m)}R.readyState=R.DONE,b(),y||v(m)},N=function(e){return function(){return R.readyState!==R.DONE?e.apply(this,arguments):void 0}},I={create:!0,exclusive:!1};return R.readyState=R.INIT,s||(s="download"),r?(m=n().createObjectURL(t),void setTimeout(function(){o.href=m,o.download=s,i(o),b(),v(m),R.readyState=R.DONE})):(e.chrome&&O&&O!==u&&(h=t.slice||t.webkitSlice,t=h.call(t,0,t.size,u),g=!0),f&&"download"!==s&&(s+=".download"),(O===u||f)&&(S=e),c?(d+=t.size,void c(e.TEMPORARY,d,N(function(e){e.root.getDirectory("saved",I,N(function(e){var n=function(){e.getFile(s,I,N(function(e){e.createWriter(N(function(n){n.onwriteend=function(t){S.location.href=e.toURL(),R.readyState=R.DONE,p(R,"writeend",t),v(e)},n.onerror=function(){var e=n.error;e.code!==e.ABORT_ERR&&E()},"writestart progress write abort".split(" ").forEach(function(e){n["on"+e]=R["on"+e]}),n.write(t),R.abort=function(){n.abort(),R.readyState=R.DONE},R.readyState=R.WRITING}),E)}),E)};e.getFile(s,{create:!1},N(function(e){e.remove(),n()}),N(function(e){e.code===e.NOT_FOUND_ERR?n():E()}))}),E)}),E)):void E())},m=y.prototype,S=function(e,t,n,o){return new y(e,t,n,o)};return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(e,t,n){return n||(e=w(e)),navigator.msSaveOrOpenBlob(e,t||"download")}:(m.abort=function(){var e=this;e.readyState=e.DONE,p(e,"abort")},m.readyState=m.INIT=0,m.WRITING=1,m.DONE=2,m.error=m.onwritestart=m.onprogress=m.onwrite=m.onabort=m.onerror=m.onwriteend=null,S)}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);"undefined"!=typeof module&&module.exports?module.exports.saveAs=saveAs:"undefined"!=typeof define&&null!==define&&null!=define.amd&&define([],function(){return saveAs});